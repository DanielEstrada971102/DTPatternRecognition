# -------------------------------- configuration for NTuples --------------------------------------#
# source of the ntuple class to use
# comment/uncomment as needed, only one should be active
ntuple_source: 'dtpr.ntuples.dtntuple.DtNtuple'
# ntuple_source: 'dtpr.ntuples.g4dt_ntuple.G4DtNtuple'

ntuple_selectors:
  # define the selectors to be used in the ntuple, always use at least no_filter
  # ================= available selectors - dtntuple ================= #
  - "dtpr.utils.filters.base_filters.baseline"
  # ================= available selectors - g4ntuple ================= #
  # - ...

ntuple_preprocessors:
  # define the event preprocessors to be used in the ntuple
  genmuon_matcher:
    src: "dtpr.utils.genmuon_functions.analyze_genmuon_matches"
  genmuon_showerer:
    src: "dtpr.utils.genmuon_functions.analyze_genmuon_showers"
    kwargs:
      method: 2

# ------------------------------- configuration for particles -------------------------------------#

particle_types:
  # particles to be built into an event from .root files
  # follow the format:
  #
  #   particle_name:
  #     class: 'path.to.particle.Particle'
  #     n_branch_name:  ROOT.TBranch (int) that could define how many particles to build
  #     conditioner: condition to filter the particles that want to be built
  #     sorter: how to sort the particles
  #       by: 'property' to sort by
  #       reverse: True/False to sort in reverse order
  #
  # comment/uncomment/add as needed...
  # ================= available particles - dtntuple ================= #
  digis:
    class: 'dtpr.particles.digi.Digi'
    n_branch_name: 'digi_nDigis'
    sorter:
      by: 'BX'
  segments:
    class: 'dtpr.particles.segment.Segment'
    n_branch_name: 'seg_nSegments'
  tps:
    class: 'dtpr.particles.ph2tp.Ph2tp'
    n_branch_name: 'ph2TpgPhiEmuAm_nTrigs'
  genmuons:
    class: 'dtpr.particles.gen_muon.GenMuon'
    n_branch_name: 'gen_nGenParts'
    conditioner: 
      property: 'gen_pdgId'
      condition: "==13"
    sorter:
      by: 'pt'
      reverse: True

# -------------------------------- configuration for histograms -----------------------------------#
histo_sources:
  # define the source modules of the histograms
  - dtpr.utils.histograms.am_histos

histo_names:
  # Histogram to fill - Uncomment or add histograms as needed. 
  # They should exist in any of the source modules
  # # ============ efficiencies ============ #
  - seg_eff_MB1
  - seg_eff_MB2
  - seg_eff_MB3
  - seg_eff_MB4
  # - AM_rate_allBX_MB1
  # - AM_rate_allBX_MB2
  # - AM_rate_allBX_MB3
  # - AM_rate_allBX_MB4
  # - AM_rate_goodBX_MB1
  # - AM_rate_goodBX_MB2
  # - AM_rate_goodBX_MB3
  # - AM_rate_goodBX_MB4
